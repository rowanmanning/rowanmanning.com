
<article vocab="http://schema.org/" typeof="BlogPosting" resource="{{ .Permalink }}">

	<meta property="name" content="{{ .Title }}" />
	<meta property="url" content="{{ .Permalink }}" />
	<meta property="mainEntityOfPage" content="{{ .Permalink }}" />
	<meta property="description" content="{{ .Description }}" />

	<header class="content-head">

		<h1 property="headline" class="content-head__title">{{ .Title }}</h1>

		<p class="content-head__meta content-highlight content-highlight--{{ .Params.highlight }}">
			Posted on <time datetime="{{ .Date }}" property="datePublished">{{ .Date.Format "02 January 2006" }}</time>
			by <span property="author" vocab="http://schema.org/" typeof="Person"><span property="name">{{ .Site.Author.name }}</span></span>

			{{- if gt .Lastmod .Date }}
				(<time datetime="{{ .Params.lastmod }}" title="{{ .Params.lastmod.Format "02 January 2006" }}"  property="dateModified">updated</time>)
			{{- end -}}

			{{- if .Params.tags -}}
				.<br/>Tagged with
				<span property="keywords">
					{{- range $key, $tag := .Params.tags -}}
						{{- if ne $key 0 }}<span class="hidden">, </span>{{ end -}}
						<a href="{{ "/tags/" | relLangURL }}{{ $tag | urlize }}" class="tag tag--{{ replace ($tag | urlize) "." "-" }}">{{ $tag }}</a>
					{{- end -}}
				</span>
			{{ end }}
		</p>

		{{ if (and .Params.crossPost .Params.crossPost.siteName) }}
			<p class="content-head__source notification notification--source">
				<span class="notification__message">
					Originally posted on <a href="{{ .Params.crossPost.siteUrl }}">{{ .Params.crossPost.siteName }}</a>,
					<a href="{{ .Params.crossPost.url }}">Read the original post here</a>
				</span>
			</p>
		{{ end }}

	</header>

	{{ if .Content }}
		<div property="articleBody" class="content-body">
			{{ if .Draft }}{{ partial "draft-notice.html" . }}{{ end }}
			{{ .Content }}
			{{ if .Draft }}{{ partial "draft-notice.html" . }}{{ end }}
		</div>
	{{ end }}

	<footer class="content-foot">
		<p class="content-foot__thanks">
			Thanks for reading!
			{{ if .Params.reviewers }}
				Also huge thanks to
				{{ $reviewers := .Params.reviewers -}}
				{{- $hasTwoReviewers := eq (len $reviewers) 2 -}}
				{{ range $key, $reviewer := $reviewers -}}
					{{- $isFirst := eq $key 0 -}}
					{{- $isLast := eq $key (sub (len $reviewers) 1) -}}
					{{- if and $isLast (not $isFirst) }} and {{ end -}}
					{{ if $reviewer.website }}<a href="{{ $reviewer.website }}">{{ end }}
						{{- $reviewer.name -}}
					{{ if $reviewer.website }}</a>{{ end }}{{ if and (not $isLast) (not $hasTwoReviewers) }}, {{ end }}
				{{- end }}
				for reviewing this post.
			{{ end }}

		</p>

		<ul class="content-foot__links">
			{{ $pageType := singularize .Type }}
			{{ if .Parent }}
				{{ $parent := .Parent }}
				{{ with $parent.OutputFormats.Get "ATOM" }}
					<li>
						<a href="{{ .RelPermalink }}" rel="alternate" type="application/atom+xml" title="Atom Feed for {{ $parent.Params.Title }}" class="content-foot__icon content-foot__icon--feed">Subscribe here</a>
						if you enjoyed this {{ $pageType }} and would like to read more
					</li>
				{{ end }}
				{{ with $parent.OutputFormats.Get "RSS" }}
					<li>
						<a href="{{ .RelPermalink }}" rel="alternate" type="application/rss+xml" title="RSS Feed for {{ $parent.Params.Title }}" class="content-foot__icon content-foot__icon--feed">Subscribe here</a>
						if you enjoyed this {{ $pageType }} and would like to read more
					<li>
				{{ end }}
			{{ end }}
			{{ if (and .Site.Author .Site.Author.twitter) }}
				<li>
					<a href="https://twitter.com/share?url={{ safeURL .Permalink }}&amp;via={{ safeURL .Site.Author.twitter }}&amp;text={{ safeURL .Title }}" target="_blank" class="content-foot__icon content-foot__icon--twitter">Tweet about this {{ $pageType }}</a>
				</li>
			{{ end }}
		</ul>
	</footer>

</article>